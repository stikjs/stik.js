!function(n){if(n.stik)throw"Stik is already loaded. Check your requires ;)";n.stik={}}(window),function(n){n.injectable=function(e){function t(n){function t(){}var r,i;return t.prototype=e.module.prototype,r=new t,i=o(r,n),Object(i)===i?i:r}function r(t){var r=n.injector({executionUnit:e.module,modules:t});return r.resolveDependencies()}function o(n,t){var r=e.module.apply(n,t);return i(r),r}function i(n){e.cache===!0&&(e.cachedValue=n)}return e.instantiable=e.instantiable||!1,e.resolvable=e.resolvable||!1,e.cache=e.cache||!1,e.resolve=function(n){return e.cachedValue?e.cachedValue:e.instantiable===!0?t(r(n)):e.resolvable===!0?o({},r(n)):e.module},e}}(window.stik),function(n){n.createController=function(e){if(!e.name)throw"Stik: Controller needs a name";return e.actions={},e.action=function(t,r){var o=n.action({name:t,controller:e.name,executionUnit:r});return e.actions[t]=o,o},e.bind=function(n){var t,r=!1;for(t in e.actions)e.actions[t].bind(n)&&(r=!0);return r},e}}(window.stik),function(n,e){e.action=function(t){function r(n){return{context:e.context({controller:t.controller,action:t.name,template:n}),executionUnit:t.executionUnit}}function o(n){n.className=(n.className+" stik-bound").trim()}if(!t.controller)throw"Stik: Action needs an controller name";if(!t.name)throw"Stik: Action name can't be empty";if(!t.executionUnit)throw"Stik: Action needs a function to use as its execution unit";return t.bind=function(n){for(var e=t.findTemplates(),i=e.length;i--;)r(e[i]).context.load(t.executionUnit,n),o(e[i]);return e.length>0},t.findTemplates=function(e){var r=n;e&&(r=e);var o="[data-controller="+t.controller+"][data-action="+t.name+"]:not([class*=stik-bound])";return r.querySelectorAll(o)},t.bindWithTemplate=r,t}}(window.document,window.stik),function(n){n.context=function(e){function t(e,t){var r=n.injector({executionUnit:e,modules:t});return r.resolveDependencies()}function r(n){return n.$template=e.template,n}return e.template=n.injectable({module:e.template}),e.load=function(n,o){var i=t(n,r(o));n.apply(e,i)},e}}(window.stik),function(n,e){e.createBehavior=function(t){function r(n){return{context:e.context({behavior:t.behavior,template:n}),executionUnit:t.executionUnit}}function o(){var e="[class*="+t.name+"]:not([data-behaviors*="+t.name+"])";return n.querySelectorAll(e)}function i(n){var e=n.getAttribute(u);e=((e||"")+" "+t.name).trim(),n.setAttribute(u,e)&a(n)}function a(n){var e=new RegExp("(^|\\s)?"+t.name+"(\\s|$)","g");n.className=n.className.replace(e," ").trim()}if(!t.name)throw"Stik: Behavior name is missing";if(-1!==t.name.indexOf(" "))throw"Stik: '"+t.name+"' is not a valid Behavior name. Please replace empty spaces with dashes ('-')";if(!t.executionUnit)throw"Stik: Behavior needs a function to use as its execution unit";var u="data-behaviors";return t.bind=function(n){for(var e=t.findTemplates(),o=e.length;o--;)r(e[o]).context.load(t.executionUnit,n),i(e[o]);return e.length>0},t.bindWithTemplate=r,t.findTemplates=o,t}}(window.document,window.stik),function(n){n.createBoundary=function(e){if(-1!==e.as.indexOf(" "))throw"Stik: '"+e.as+"' is not a valid Boundary name. Please replace empty spaces with dashes ('-')";if(!e.to)throw"Stik: Boundary needs an object or function as 'to'";var t={};return t.to=n.injectable({module:e.to,instantiable:e.instantiable,resolvable:e.resolvable,cache:e.cache}),t.name=e.as,t}}(window.stik),function(n){n.injector=function(n){function e(){var e,r,o;return e=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,r=n.executionUnit.toString(),o=r.match(e)[1].split(","),t(o)}function t(n){var e=[];return n.forEach(function(n){e.push(n.trim())}),e}function r(e){var t,r;if(r=[],1===e.length&&""===e[0])return[];for(var o=0;o<e.length;o++){if(!(t=n.modules[e[o]]))throw"Stik: could not find this module ("+e[o]+")";r.push(t.resolve(n.modules))}return r}if(!n.executionUnit)throw"Stik: Injector needs a function to use as its execution unit";return n.resolveDependencies=function(){var n=e();return r(n)},n}}(window.stik),function(n){n.manager=function(){function e(e){var t=n.createController({name:e});return u[e]=t,t}function t(n){return!!a[n]}function r(e,t){return n.createBehavior(e,t)}function o(n){var e,t={};for(e in n)t[e]=n[e].to;for(e in c.all)t[e]=c.all[e].to;return t}function i(n){var e=o(c.controller);n.bind(e)}var a={},u={},c={all:{},controller:{},behavior:{}},l={};return l.addControllerWithAction=function(n,t,r){var i=e(n),a=i.action(t,r);return a.bind(o(c.controller)),i},l.addController=function(n,t){var r=e(n);return t.call({},r),i(r),r},l.addBehavior=function(n,e){if(t(n))throw"Stik: Another behavior already exist with name '"+n+"'";var o=r({name:n,executionUnit:e});return a[n]=o,l.applyBehavior(o),o},l.addBoundary=function(e){var t;if(e.from=e.from||"all",-1===["all","controller","behavior"].indexOf(e.from))throw"Stik: Invalid boundary 'from' specified. Please use 'controller', 'behavior', 'all' or leave it blank to default to 'all'";return t=n.createBoundary(e),c[e.from][e.as]=t,t},l.applyBehaviors=function(){var n,e=!1;for(n in a)l.applyBehavior(a[n])&&(e=!0);return e},l.applyBehavior=function(n){var e=o(c.behavior);return n.bind(e)},l.bindActionWithTemplate=function(n,e,t){var r,i=o(c.controller);return r=u[n].actions[e].bindWithTemplate(t,i),r.modules=i,r},l.bindBehaviorWithTemplate=function(n,e){var t,r=o(c.behavior);return t=a[n].bindWithTemplate(e,r),t.modules=r,t},l.bindActions=function(){var n,e=o(c.controller),t=!1;for(n in u)u[n].bind(e)&&(t=!0);return t},l.getBoundary=function(n){var e,t;for(e in c)for(t in c[e])if(t===n)return c[e][t]},l.boundariesFor=function(n){return o(c[n])},l.$reset=function(){u={},a={}},l}}(window.stik),function(n){n.$$manager=n.manager(),n.controller=function(e,t,r){return"string"==typeof t?n.$$manager.addControllerWithAction(e,t,r):n.$$manager.addController(e,t)},n.behavior=function(e,t){return n.$$manager.addBehavior(e,t)},n.lazyBind=window.stik.bindLazy=function(){if(!n.$$manager.bindActions()&!n.$$manager.applyBehaviors())throw"Stik: Nothing new to bind!"},n.boundary=function(e){return n.$$manager.addBoundary(e)}}(window.stik),function(n){function e(){for(var n in r)o.hasOwnProperty(n)||(o[n]=r[n]);return o}var t={},r={},o={};n.helper=function(o,i){if(!o)throw"Stik: Helper needs a name";if(!i||"function"!=typeof i)throw"Stik: Helper needs a function";return r[o]=n.injectable({module:i,resolvable:!0}),t[o]=function(){var n=r[o].resolve(e());return n.apply({},arguments)},t[o]},t.pushDoubles=function(e){for(var t in e)o[t]=n.injectable({module:e[t]})},t.cleanDoubles=function(){o={}},n.boundary({as:"$h",to:t})}(window.stik),function(n){n.boundary({as:"$window",to:window}),n.helper("$window",function(){return window}),n.helper("isArray",function(){return function(n){return"[object Array]"===Object.prototype.toString.call(n)}}),n.helper("debounce",function(){return function(n,e,t){var r;return function(){var o=this,i=arguments,a=function(){r=null,t||n.apply(o,i)},u=t&&!r;clearTimeout(r),r=setTimeout(a,e),u&&n.apply(o,i)}}}),n.helper("deepExtend",function(){return function(n,e){for(var t in e)Object.isObjectLiteral(n[t])&&Object.isObjectLiteral(e[t])?(n[t]=n[t]||{},arguments.callee(n[t],e[t])):n[t]=e[t];return n}}),n.helper("zip",function(){return function(n,e){for(var t=[],r=0;r<n.length;r++)t.push([]),t[r].push(n[r]),t[r].push(e[r]);return t}})}(window.stik),function(n){n.boundary({as:"$viewBag",resolvable:!0,to:function(n){function e(n){return o(n)?n.value:n.textContent}function t(n,e){o(n)?n.value=e:n.textContent=e}function r(){return n.getAttribute(a)?[n]:n.querySelectorAll("["+a+"]")}function o(n){return"INPUT"===n.nodeName.toUpperCase()||"TEXTAREA"===n.nodeName.toUpperCase()}if(!n)throw"Stik: ViewBag needs a template to be attached to";var i={},a="data-key";return i.push=function(n){for(var e,o=r(),i=o.length;i--;)e=o[i].getAttribute(a),void 0!==n[e]&&t(o[i],n[e])},i.pull=function(){for(var t,o=r(n),i={},u=o.length;u--;)t=o[u].getAttribute(a),i[t]=e(o[u]);return i},i}})}(window.stik),function(n){n.Courier=function(){function n(n,e){var t,i=new RegExp(n);for(var a in o)t=new RegExp(r(a)),(i.exec(r(a))||t.exec(r(n)))&&e(o[a])}function e(n){o[n.box]=o[n.box].filter(function(e){return e.id!==n.id}),0===o[n.box].length&&delete o[n.box]}function t(n){return n.id="#"+Math.floor(16777215*Math.random()).toString(16),n}function r(n){return n.toString().replace(/(^\/|\/$)/g,"")}var o={};this.receive=function(n,i){var a=t({box:r(n),opener:i});return o[n]=o[n]||[],o[n].push(a),e.bind({},a)},this.send=function(e,t,r){var o=0,i=!1;if(r=r||{throwOnMissing:!0},n(e,function(n){for(i=!0,o=n.length;o--;)n[o].opener(t)}),!i&&r.throwOnMissing===!0)throw"Courier: No receiver registered for '"+e+"'"},this.reset=function(){o={}}}}(window),function(n,e){n.boundary({as:"$courier",cache:!0,to:new e})}(window.stik,window.Courier),function(n){function e(){for(var n in r)o.hasOwnProperty(n)||(o[n]=r[n]);return o}var t={},r={},o={};n.dom=function(o,i){if(!o)throw"Stik: DOM needs a name";if(!i||"function"!=typeof i)throw"Stik: DOM needs a function";return r[o]=n.injectable({module:i,resolvable:!0}),t[o]=function(){var n=r[o].resolve(e());return n.apply({},arguments)},t[o]},t.pushDoubles=function(e){for(var t in e)o[t]=n.injectable({module:e[t]})},t.cleanDoubles=function(){o={}},n.dom.signatures=function(){return Object.keys(r)},n.boundary({as:"$dom",to:t})}(window.stik),function(n){function e(n){return"[object Array]"===Object.prototype.toString.call(n)}n.boundary({as:"$elm",resolvable:!0,to:function(e,t){for(var r={},o=n.dom.signatures(),i=o.length;i--;)!function(n){r[n]=function(){var r=Array.prototype.slice.call(arguments);return r.unshift(e),t[n].apply({},r)}}(o[i]);return r}}),n.dom("hasClass",function(){return function(n,e){if(n.classList)return n.classList.contains(e);var t=" "+e+" ";return(" "+n.className+" ").replace(/[\t\r\n\f]/g," ").indexOf(t)>=0}}),n.dom("removeClass",function(n){return function(t,r){var o=[];o=e(r)?r:r.split(" ");for(var i=0;i<o.length;i++)if(t.classList)t.classList.remove(o[i]);else if(n(t,o[i])){var a=new RegExp("(^|\\s)?"+o[i]+"(\\s|$)","g");t.className=t.className.replace(a," ").trim()}}}),n.dom("addClass",function(n){return function(t,r){var o=[];o=e(r)?r:r.split(" ");for(var i=0;i<o.length;i++)n(t,o[i])||(t.classList?t.classList.add(o[i]):t.className=(t.className+" "+o[i]).trim())}}),n.dom("toggleClass",function(n,e,t){return function(r,o,i){i===!0?e(r,o):i===!1?t(r,o):n(r,o)?t(r,o):n(r,o)||e(r,o)}}),n.dom("hide",function(){return function(n){n.style.display="none"}}),n.dom("isHidden",function(){return function(n){return null===n.offsetParent}}),n.dom("isVisible",function(n){return function(e){return!n(e)}}),n.dom("show",function(){return function(n){n.style.display="block"}}),n.dom("remove",function(){return function(n){n.parentNode.removeChild(n)}}),n.dom("parse",function(){return function(n){var e=document.implementation.createHTMLDocument();return e.body.innerHTML=n,e.body.children>1?e.body.childNodes:e.body.firstChild}}),n.dom("append",function(){return function(n,e){if("string"==typeof e){var t=document.createElement("div");for(t.innerHTML=e;t.firstChild;)n.appendChild(t.firstChild)}else n.appendChild(e)}}),n.dom("prepend",function(n,e){return function(t,r){t.childNodes.length>0?n(t.firstChild,r):e(t,r)}}),n.dom("insertAfter",function(){return function(n,e){"string"==typeof e?n.insertAdjacentHTML("afterend",e):n.parentNode.insertBefore(e,n.nextSibling)}}),n.dom("insertBefore",function(){return function(n,e){"string"==typeof e?n.insertAdjacentHTML("beforebegin",e):n.parentNode.insertBefore(e,n)}}),n.dom("data",function(){return function(n){function e(n){return t(n.match(/(data-)(.+)/)[2])}function t(n){return n.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()})}var r,o,i={};for(r in n.attributes)n.attributes[r].value&&(o=n.attributes[r].name,o.match(/^data-/m)&&(i[e(o)]=n.attributes[r].value));return i}}),n.dom("contains",function(){return function(n,e){return"string"==typeof e?null!==el.querySelector(selector):n!==e&&n.contains(e)}}),n.dom("filter",function(){return function(n,e){return Array.prototype.filter.call(n.querySelectorAll(e),filterFn)}}),n.dom("position",function(){return function(n){return{left:n.offsetLeft,top:n.offsetTop}}}),n.dom("siblings",function(){return function(n){return Array.prototype.filter.call(n.parentNode.children,function(e){return e!==n})}}),n.boundary({as:"$data",resolvable:!0,to:function(n,e){return e.data(n)}})}(window.stik),function(n){n.dom("serialize",function(){return function(n,e){var t,r,o;if(n&&"FORM"===n.nodeName){for(t=r=void 0,o=[],t=n.elements.length-1;t>=0;)if(""!==n.elements[t].name){switch(n.elements[t].nodeName){case"INPUT":switch(n.elements[t].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":o.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value));break;case"checkbox":case"radio":n.elements[t].checked&&o.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value));break;case"file":}break;case"TEXTAREA":o.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value));break;case"SELECT":switch(n.elements[t].type){case"select-one":o.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value));break;case"select-multiple":for(r=n.elements[t].options.length-1;r>=0;)n.elements[t].options[r].selected&&o.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].options[r].value)),r-=1}break;case"BUTTON":switch(n.elements[t].type){case"reset":case"submit":case"button":o.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value))}}t-=1}else t-=1;if(e){for(var i,a,u={},t=0;t<o.length;t++)i=o[t].split("=")[0],a=o[t].split("=")[1],u[i]=a;return u}return o.join("&")}}})}(window.stik),window.stik.boundary({as:"$url",resolvable:!0,to:function(n){return{baseUrl:function(){return n.location.href},relativeUrl:function(){return this.baseUrl.match(/http:\/\/.+?(\/.+$)/)[1]},pathName:function(){return n.location.pathname},hash:function(n){return this.locationHash(n).replace(/^#/,"")},locationHash:function(e){return void 0!==e&&(n.location.hash=e),location.hash},mainPath:function(){return"/"+this.pathName().split("/")[1]},goTo:function(e){n.location=e},queries:function e(){var n,e,t;if(e=this.baseUrl().split("?")[1]){e=e.split("&"),n={};for(var r=0;r<e.length;r++)t=e[r].split("="),n[t[0]]=t[1];return n}return{}}}}}),function(n){n.labs={}}(window.stik),function(n){n.labs.behavior=function(e){function t(){var n=document.implementation.createHTMLDocument();return n.body.innerHTML=e.template,n.body.firstChild}function r(e){for(var t in e)o.modules[t]=n.injectable({module:e[t]});return o.modules}if(!e)throw"Stik: Behavior Lab needs an environment to run";if(!e.name)throw"Stik: Behavior Lab needs a name";if(!e.template)throw"Stik: Behavior Lab needs a template";var o,i={};return i.template=t(),o=n.$$manager.bindBehaviorWithTemplate(e.name,i.template),i.run=function(n){o.context.load(o.executionUnit,r(n))},i}}(window.stik),function(n){n.labs.boundary=function(e){function t(e){var t=n.$$manager.boundariesFor("behavior");for(var r in e)t[r]=n.injectable({module:e[r]});return t}if(!e)throw"Stik: Boundary Lab needs an environment to run";if(!e.name)throw"Stik: Boundary Lab needs a name";var r={},o=n.$$manager.getBoundary(e.name);return r.run=function(n){return o.to.resolve(t(n))},r}}(window.stik),function(n,e){e.labs.controller=function(t){function r(){var e=n.implementation.createHTMLDocument();return e.body.innerHTML=t.template,e.body.firstChild}function o(n){for(var t in n)i.modules[t]=e.injectable({module:n[t]});return i.modules}if(!t)throw"Stik: Controller Lab needs an environment to run";if(!t.name)throw"Stik: Controller Lab needs a name";if(!t.action)throw"Stik: Controller Lab needs the action name";if(!t.template)throw"Stik: Controller Lab needs a template";var i,a={};return a.template=r(),i=e.$$manager.bindActionWithTemplate(t.name,t.action,a.template),a.run=function(n){i.context.load(i.executionUnit,o(n))},a}}(window.document,window.stik),function(n){n.helper=function(e){if(!e)throw"Stik: Helper Lab needs an environment to run";if(!e.name)throw"Stik: Helper Lab needs a name";var t={},r=n.boundary({name:"$h"});return t.run=function(n){var t=r.run(n);return t.pushDoubles(n),function(){return t[e.name].apply({},arguments)}},t}}(window.stik.labs),function(n){n.dom=function(e){if(!e)throw"Stik: Helper Lab needs an environment to run";if(!e.name)throw"Stik: Helper Lab needs a name";var t={},r=n.boundary({name:"$dom"});return t.run=function(n){var t=r.run(n);return t.pushDoubles(n),function(){return t[e.name].apply({},arguments)}},t}}(window.stik.labs);