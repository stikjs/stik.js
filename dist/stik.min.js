!function(n){if(n.stik)throw"Stik is already loaded. Check your requires ;)";n.stik={}}(window),function(n){n.injectable=function(e){function t(n){function t(){}var o,i;return t.prototype=e.module.prototype,o=new t,i=r(o,n),Object(i)===i?i:o}function o(t){var o=n.injector({executionUnit:e.module,modules:t});return o.resolveDependencies()}function r(n,t){var o=e.module.apply(n,t);return i(o),o}function i(n){e.cache===!0&&(e.cachedValue=n)}return e.instantiable=e.instantiable||!1,e.resolvable=e.resolvable||!1,e.cache=e.cache||!1,e.resolve=function(n){return e.cachedValue?e.cachedValue:e.instantiable===!0?t(o(n)):e.resolvable===!0?r({},o(n)):e.module},e}}(window.stik),function(n){n.createController=function(e){if(!e.name)throw"Stik: Controller needs a name";return e.actions={},e.action=function(t,o){var r=n.action({name:t,controller:e.name,executionUnit:o});return e.actions[t]=r,r},e.bind=function(n){var t,o=!1;for(t in e.actions)e.actions[t].bind(n)&&(o=!0);return o},e}}(window.stik),function(n,e){e.action=function(t){function o(n){return{context:e.context({controller:t.controller,action:t.name,template:n}),executionUnit:t.executionUnit}}function r(n){n.className=(n.className+" stik-bound").trim()}if(!t.controller)throw"Stik: Action needs an controller name";if(!t.name)throw"Stik: Action name can't be empty";if(!t.executionUnit)throw"Stik: Action needs a function to use as its execution unit";return t.bind=function(n){for(var e=t.findTemplates(),i=e.length;i--;)o(e[i]).context.load(t.executionUnit,n),r(e[i]);return e.length>0},t.findTemplates=function(e){var o=n;e&&(o=e);var r="[data-controller="+t.controller+"][data-action="+t.name+"]:not([class*=stik-bound])";return o.querySelectorAll(r)},t.bindWithTemplate=o,t}}(window.document,window.stik),function(n){n.context=function(e){function t(e,t){var o=n.injector({executionUnit:e,modules:t});return o.resolveDependencies()}function o(n){return n.$template=e.template,n}return e.template=n.injectable({module:e.template}),e.load=function(n,r){var i=t(n,o(r));n.apply(e,i)},e}}(window.stik),function(n,e){e.createBehavior=function(t){function o(n){return{context:e.context({behavior:t.behavior,template:n}),executionUnit:t.executionUnit}}function r(){var e="[class*="+t.name+"]:not([data-behaviors*="+t.name+"])";return n.querySelectorAll(e)}function i(n){var e=n.getAttribute(u);e=((e||"")+" "+t.name).trim(),n.setAttribute(u,e)&a(n)}function a(n){var e=new RegExp("(^|\\s)?"+t.name+"(\\s|$)","g");n.className=n.className.replace(e," ").trim()}if(!t.name)throw"Stik: Behavior name is missing";if(-1!==t.name.indexOf(" "))throw"Stik: '"+t.name+"' is not a valid Behavior name. Please replace empty spaces with dashes ('-')";if(!t.executionUnit)throw"Stik: Behavior needs a function to use as its execution unit";var u="data-behaviors";return t.bind=function(n){for(var e=t.findTemplates(),r=e.length;r--;)o(e[r]).context.load(t.executionUnit,n),i(e[r]);return e.length>0},t.bindWithTemplate=o,t.findTemplates=r,t}}(window.document,window.stik),function(n){n.createBoundary=function(e){if(-1!==e.as.indexOf(" "))throw"Stik: '"+e.as+"' is not a valid Boundary name. Please replace empty spaces with dashes ('-')";if(!e.to)throw"Stik: Boundary needs an object or function as 'to'";var t={};return t.to=n.injectable({module:e.to,instantiable:e.instantiable,resolvable:e.resolvable,cache:e.cache}),t.name=e.as,t}}(window.stik),function(n){n.injector=function(n){function e(){var e,o,r;return e=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,o=n.executionUnit.toString(),r=o.match(e)[1].split(","),t(r)}function t(n){var e=[];return n.forEach(function(n){e.push(n.trim())}),e}function o(e){var t,o;if(o=[],1===e.length&&""===e[0])return[];for(var r=0;r<e.length;r++){if(!(t=n.modules[e[r]]))throw"Stik: could not find this module ("+e[r]+")";o.push(t.resolve(n.modules))}return o}if(!n.executionUnit)throw"Stik: Injector needs a function to use as its execution unit";return n.resolveDependencies=function(){var n=e();return o(n)},n}}(window.stik),function(n){n.manager=function(){function e(e){var t=n.createController({name:e});return u[e]=t,t}function t(n){return!!a[n]}function o(e,t){return n.createBehavior(e,t)}function r(n){var e,t={};for(e in n)t[e]=n[e].to;for(e in c.all)t[e]=c.all[e].to;return t}function i(n){var e=r(c.controller);n.bind(e)}var a={},u={},c={all:{},controller:{},behavior:{}},l={};return l.addControllerWithAction=function(n,t,o){var i=e(n),a=i.action(t,o);return a.bind(r(c.controller)),i},l.addController=function(n,t){var o=e(n);return t.call({},o),i(o),o},l.addBehavior=function(n,e){if(t(n))throw"Stik: Another behavior already exist with name '"+n+"'";var r=o({name:n,executionUnit:e});return a[n]=r,l.applyBehavior(r),r},l.addBoundary=function(e){var t;if(e.from=e.from||"all",-1===["all","controller","behavior"].indexOf(e.from))throw"Stik: Invalid boundary 'from' specified. Please use 'controller', 'behavior', 'all' or leave it blank to default to 'all'";return t=n.createBoundary(e),c[e.from][e.as]=t,t},l.applyBehaviors=function(){var n,e=!1;for(n in a)l.applyBehavior(a[n])&&(e=!0);return e},l.applyBehavior=function(n){var e=r(c.behavior);return n.bind(e)},l.bindActionWithTemplate=function(n,e,t){var o,i=r(c.controller);return o=u[n].actions[e].bindWithTemplate(t,i),o.modules=i,o},l.bindBehaviorWithTemplate=function(n,e){var t,o=r(c.behavior);return t=a[n].bindWithTemplate(e,o),t.modules=o,t},l.bindActions=function(){var n,e=r(c.controller),t=!1;for(n in u)u[n].bind(e)&&(t=!0);return t},l.getBoundary=function(n){var e,t;for(e in c)for(t in c[e])if(t===n)return c[e][t]},l.boundariesFor=function(n){return r(c[n])},l.$reset=function(){u={},a={}},l}}(window.stik),function(n){n.$$manager=n.manager(),n.controller=function(e,t,o){return"string"==typeof t?n.$$manager.addControllerWithAction(e,t,o):n.$$manager.addController(e,t)},n.behavior=function(e,t){return n.$$manager.addBehavior(e,t)},n.lazyBind=window.stik.bindLazy=function(){if(!n.$$manager.bindActions()&!n.$$manager.applyBehaviors())throw"Stik: Nothing new to bind!"},n.boundary=function(e){return n.$$manager.addBoundary(e)}}(window.stik),function(n,e){n.boundary({as:"$courier",cache:!0,to:new e})}(window.stik,window.Courier),function(n){function e(){for(var n in o)r.hasOwnProperty(n)||(r[n]=o[n]);return r}var t={},o={},r={};n.helper=function(r,i){if(!r)throw"Stik: Helper needs a name";if(!i||"function"!=typeof i)throw"Stik: Helper needs a function";return o[r]=n.injectable({module:i,resolvable:!0}),t[r]=function(){var n=o[r].resolve(e());return n.apply({},arguments)},t[r]},t.pushDoubles=function(e){for(var t in e)r[t]=n.injectable({module:e[t]})},t.cleanDoubles=function(){r={}},n.boundary({as:"$h",to:t})}(window.stik),function(n){n.boundary({as:"$window",to:window}),n.helper("$window",function(){return window}),n.helper("isArray",function(){return function(n){return"[object Array]"===Object.prototype.toString.call(n)}}),n.helper("debounce",function(){return function(n,e,t){var o;return function(){var r=this,i=arguments,a=function(){o=null,t||n.apply(r,i)},u=t&&!o;clearTimeout(o),o=setTimeout(a,e),u&&n.apply(r,i)}}}),n.helper("deepExtend",function(){return function(n,e){for(var t in e)Object.isObjectLiteral(n[t])&&Object.isObjectLiteral(e[t])?(n[t]=n[t]||{},arguments.callee(n[t],e[t])):n[t]=e[t];return n}}),n.helper("zip",function(){return function(n,e){for(var t=[],o=0;o<n.length;o++)t.push([]),t[o].push(n[o]),t[o].push(e[o]);return t}})}(window.stik),function(n){n.boundary({as:"$viewBag",resolvable:!0,to:function(n){function e(n){return r(n)?n.value:n.textContent}function t(n,e){r(n)?n.value=e:n.textContent=e}function o(){return n.getAttribute(a)?[n]:n.querySelectorAll("["+a+"]")}function r(n){return"INPUT"===n.nodeName.toUpperCase()||"TEXTAREA"===n.nodeName.toUpperCase()}if(!n)throw"Stik: ViewBag needs a template to be attached to";var i={},a="data-key";return i.push=function(n){for(var e,r=o(),i=r.length;i--;)e=r[i].getAttribute(a),void 0!==n[e]&&t(r[i],n[e])},i.pull=function(){for(var t,r=o(n),i={},u=r.length;u--;)t=r[u].getAttribute(a),i[t]=e(r[u]);return i},i}})}(window.stik),function(n,e){n.boundary({as:"$resource",from:"controller",to:e.resource})}(window.stik,window.vej),function(n){function e(){for(var n in o)r.hasOwnProperty(n)||(r[n]=o[n]);return r}var t={},o={},r={};n.dom=function(r,i){if(!r)throw"Stik: DOM needs a name";if(!i||"function"!=typeof i)throw"Stik: DOM needs a function";return o[r]=n.injectable({module:i,resolvable:!0}),t[r]=function(){var n=o[r].resolve(e());return n.apply({},arguments)},t[r]},t.pushDoubles=function(e){for(var t in e)r[t]=n.injectable({module:e[t]})},t.cleanDoubles=function(){r={}},n.dom.signatures=function(){return Object.keys(o)},n.boundary({as:"$dom",to:t})}(window.stik),function(n){function e(n){return"[object Array]"===Object.prototype.toString.call(n)}n.boundary({as:"$elm",resolvable:!0,to:function(e,t){var o={},r=n.dom.signatures(),i=r.length;for(o.template=e;i--;)!function(n){o[n]=function(){var o=Array.prototype.slice.call(arguments);return o.unshift(e),t[n].apply({},o)}}(r[i]);return o}}),n.dom("hasClass",function(){return function(n,e){if(n.classList)return n.classList.contains(e);var t=" "+e+" ";return(" "+n.className+" ").replace(/[\t\r\n\f]/g," ").indexOf(t)>=0}}),n.dom("removeClass",function(n){return function(t,o){var r=[];r=e(o)?o:o.split(" ");for(var i=0;i<r.length;i++)if(t.classList)t.classList.remove(r[i]);else if(n(t,r[i])){var a=new RegExp("(^|\\s)?"+r[i]+"(\\s|$)","g");t.className=t.className.replace(a," ").trim()}}}),n.dom("addClass",function(n){return function(t,o){var r=[];r=e(o)?o:o.split(" ");for(var i=0;i<r.length;i++)n(t,r[i])||(t.classList?t.classList.add(r[i]):t.className=(t.className+" "+r[i]).trim())}}),n.dom("toggleClass",function(n,e,t){return function(o,r,i){i===!0?e(o,r):i===!1?t(o,r):n(o,r)?t(o,r):n(o,r)||e(o,r)}}),n.dom("hide",function(){return function(n){n.style.display="none"}}),n.dom("isHidden",function(){return function(n){return null===n.offsetParent}}),n.dom("isVisible",function(n){return function(e){return!n(e)}}),n.dom("show",function(){return function(n){n.style.display="block"}}),n.dom("remove",function(){return function(n){n.parentNode.removeChild(n)}}),n.dom("parse",function(){return function(n){var e=document.implementation.createHTMLDocument();return e.body.innerHTML=n,e.body.children.length>1?e.body.childNodes:e.body.firstChild}}),n.dom("append",function(){return function(n,e){if("string"==typeof e){var t=document.createElement("div");for(t.innerHTML=e;t.firstChild;)n.appendChild(t.firstChild)}else n.appendChild(e)}}),n.dom("prepend",function(n,e){return function(t,o){t.childNodes.length>0?n(t.firstChild,o):e(t,o)}}),n.dom("insertAfter",function(){return function(n,e){"string"==typeof e?n.insertAdjacentHTML("afterend",e):n.parentNode.insertBefore(e,n.nextSibling)}}),n.dom("insertBefore",function(){return function(n,e){"string"==typeof e?n.insertAdjacentHTML("beforebegin",e):n.parentNode.insertBefore(e,n)}}),n.dom("data",function(){return function(n){function e(n){return t(n.match(/(data-)(.+)/)[2])}function t(n){return n.replace(/-([a-z])/g,function(n){return n[1].toUpperCase()})}var o,r,i={};for(o in n.attributes)n.attributes[o].value&&(r=n.attributes[o].name,r.match(/^data-/m)&&(i[e(r)]=n.attributes[o].value));return i}}),n.dom("contains",function(){return function(n,e){return"string"==typeof e?null!==el.querySelector(selector):n!==e&&n.contains(e)}}),n.dom("filter",function(){return function(n,e){return Array.prototype.filter.call(n.querySelectorAll(e),filterFn)}}),n.dom("position",function(){return function(n){return{left:n.offsetLeft,top:n.offsetTop}}}),n.dom("siblings",function(){return function(n){return Array.prototype.filter.call(n.parentNode.children,function(e){return e!==n})}}),n.dom("find",function(){return function(n,e){return n.querySelector(e)}}),n.dom("findAll",function(){return function(n,e){return n.querySelectorAll(e)}}),n.dom("event",function(){return function(n,e,t,o){n.addEventListener(e,t,o||!1)}}),n.dom("click",function(n){return function(e,t,o){n(e,"click",t,o)}}),n.dom("doubleClick",function(n){return function(e,t,o){n(e,"dblclick",t,o)}}),n.dom("mouseDown",function(n){return function(e,t,o){n(e,"mousedown",t,o)}}),n.dom("mouseUp",function(n){return function(e,t,o){n(e,"mouseup",t,o)}}),n.dom("mouseMove",function(n){return function(e,t,o){n(e,"mousemove",t,o)}}),n.dom("mouseOver",function(n){return function(e,t,o){n(e,"mouseover",t,o)}}),n.dom("mouseOut",function(n){return function(e,t,o){n(e,"mouseout",t,o)}}),n.dom("abort",function(n){return function(e,t,o){n(e,"abort",t,o)}}),n.dom("blur",function(n){return function(e,t,o){n(e,"blur",t,o)}}),n.dom("change",function(n){return function(e,t,o){n(e,"change",t,o)}}),n.dom("error",function(n){return function(e,t,o){n(e,"error",t,o)}}),n.dom("focus",function(n){return function(e,t,o){n(e,"focus",t,o)}}),n.dom("load",function(n){return function(e,t,o){n(e,"load",t,o)}}),n.dom("reset",function(n){return function(e,t,o){n(e,"reset",t,o)}}),n.dom("resize",function(n){return function(e,t,o){n(e,"resize",t,o)}}),n.dom("scroll",function(n){return function(e,t,o){n(e,"scroll",t,o)}}),n.dom("select",function(n){return function(e,t,o){n(e,"select",t,o)}}),n.dom("submit",function(n){return function(e,t,o){n(e,"submit",t,o)}}),n.dom("unload",function(n){return function(e,t,o){n(e,"unload",t,o)}}),n.boundary({as:"$data",resolvable:!0,to:function(n,e){return e.data(n)}})}(window.stik),function(n){n.dom("serialize",function(){return function(n,e){var t,o,r;if(n&&"FORM"===n.nodeName){for(t=o=void 0,r=[],t=n.elements.length-1;t>=0;)if(""!==n.elements[t].name){switch(n.elements[t].nodeName){case"INPUT":switch(n.elements[t].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":r.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value));break;case"checkbox":case"radio":n.elements[t].checked&&r.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value));break;case"file":}break;case"TEXTAREA":r.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value));break;case"SELECT":switch(n.elements[t].type){case"select-one":r.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value));break;case"select-multiple":for(o=n.elements[t].options.length-1;o>=0;)n.elements[t].options[o].selected&&r.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].options[o].value)),o-=1}break;case"BUTTON":switch(n.elements[t].type){case"reset":case"submit":case"button":r.push(n.elements[t].name+"="+encodeURIComponent(n.elements[t].value))}}t-=1}else t-=1;if(e){for(var i,a,u={},t=0;t<r.length;t++)i=r[t].split("=")[0],a=r[t].split("=")[1],u[i]=a;return u}return r.join("&")}}})}(window.stik),window.stik.boundary({as:"$url",resolvable:!0,to:function(n){return{baseUrl:function(){return n.location.href},relativeUrl:function(){return this.baseUrl.match(/http:\/\/.+?(\/.+$)/)[1]},pathName:function(){return n.location.pathname},hash:function(n){return this.locationHash(n).replace(/^#/,"")},hashBang:function(n){return this.locationHash("!"+n).replace(/^#!/,"")},locationHash:function(e){return void 0!==e&&(n.location.hash=e),n.location.hash},mainPath:function(){return"/"+this.pathName().split("/")[1]},goTo:function(e){n.location=e},queries:function e(){var n,e,t;if(e=this.baseUrl().split("?")[1]){e=e.split("&"),n={};for(var o=0;o<e.length;o++)t=e[o].split("="),n[t[0]]=t[1];return n}return{}}}}}),function(n){n.labs={}}(window.stik),function(n){n.labs.behavior=function(e){function t(){var n=document.implementation.createHTMLDocument();return n.body.innerHTML=e.template,n.body.firstChild}function o(e){for(var t in e)r.modules[t]=n.injectable({module:e[t]});return r.modules}if(!e)throw"Stik: Behavior Lab needs an environment to run";if(!e.name)throw"Stik: Behavior Lab needs a name";if(!e.template)throw"Stik: Behavior Lab needs a template";var r,i={};return i.template=t(),r=n.$$manager.bindBehaviorWithTemplate(e.name,i.template),i.run=function(n){r.context.load(r.executionUnit,o(n))},i}}(window.stik),function(n){n.labs.boundary=function(e){function t(e){var t=n.$$manager.boundariesFor("behavior");for(var o in e)t[o]=n.injectable({module:e[o]});return t}if(!e)throw"Stik: Boundary Lab needs an environment to run";if(!e.name)throw"Stik: Boundary Lab needs a name";var o={},r=n.$$manager.getBoundary(e.name);return o.run=function(n){return r.to.resolve(t(n))},o}}(window.stik),function(n,e){e.labs.controller=function(t){function o(){var e=n.implementation.createHTMLDocument();return e.body.innerHTML=t.template,e.body.firstChild}function r(n){for(var t in n)i.modules[t]=e.injectable({module:n[t]});return i.modules}if(!t)throw"Stik: Controller Lab needs an environment to run";if(!t.name)throw"Stik: Controller Lab needs a name";if(!t.action)throw"Stik: Controller Lab needs the action name";if(!t.template)throw"Stik: Controller Lab needs a template";var i,a={};return a.template=o(),i=e.$$manager.bindActionWithTemplate(t.name,t.action,a.template),a.run=function(n){i.context.load(i.executionUnit,r(n))},a}}(window.document,window.stik),function(n){n.helper=function(e){if(!e)throw"Stik: Helper Lab needs an environment to run";if(!e.name)throw"Stik: Helper Lab needs a name";var t={},o=n.boundary({name:"$h"});return t.run=function(n){var t=o.run(n);return t.pushDoubles(n),function(){return t[e.name].apply({},arguments)}},t}}(window.stik.labs),function(n){n.dom=function(e){if(!e)throw"Stik: Helper Lab needs an environment to run";if(!e.name)throw"Stik: Helper Lab needs a name";var t={},o=n.boundary({name:"$dom"});return t.run=function(n){var t=o.run(n);return t.pushDoubles(n),function(){return t[e.name].apply({},arguments)}},t}}(window.stik.labs);